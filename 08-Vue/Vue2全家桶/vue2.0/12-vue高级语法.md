# 高级语法

## 1. Mixin混入

### 1-1 局部混入

`mixin` 混入用来分发 `Vue` 组件中的可复用功能，一个混入对象可以包含任意组件选项，当组件使用混入对象时，所有混入对象的选项将被混合进入该组件本身的选项

局部 `mixins` —— 通过 `mixins` 选项接受一个混入对象的数组，混入对象中选项会与组件中选项合并

如果你的混入包含一个 `created` 钩子，而创建组件本身也有一个，那么两个函数都会被调用

```
```



### 1-2 全局混入

全局 `mixin` —— 通过 `Vue.mixin` 全局注册，当使用全局混入时，它将影响每一个之后创建的 `Vue` 实例

> 请谨慎使用全局混入，因为它会影响每个单独创建的 `Vue` 实例 (包括第三方组件)

```
```



### 1-3 默认合并策略

`Vue` 针对每个规定的选项都有定义好的合并策略，例如 `data`，`component`，`mounted` 等。如果合并的子父配置都具有相同的选项，则只需要按照规定好的策略进行选项合并即可

由于 `Vue` 传递的选项是开放式的，所有也存在传递的选项没有自定义选项的情况，这时候由于选项不存在默认的合并策略，所以处理的原则是有子类配置选项则默认使用子类配置选项，没有则选择父类配置选项

> - `mixin` 很容易发生冲突：因为每个特性的属性都被合并到同一个组件中，所以为了避免属性名冲突和调试，你仍然需要了解其他每个特性
> - 可重用性是有限的：我们不能向 `mixin` 传递任何参数来改变它的逻辑，这降低了它们在抽象逻辑方面的灵活性

`Vue` 定义的默认自定义选项合并策略：

* 声明周期函数 —— 相同的选项将合并成数组，优先执行 `mixin` 混入中的生命周期函数，再执行组件内定义的生命周期函数
* `data` 选项 —— 组件中的 `data` 数据会覆盖 `mixin` 中数据
* `methods` 选项 —— 组件中的 `methods` 方法会覆盖 `mixin` 中的定义的 `methods`
* `watch` 选项 —— 相同的选项将合并成数组，优先执行 `mixin` 混入中的 `watch` 属性，再执行组件内定义的 `watch` 属性（`watch` 选项最终在合并的数组中可以是包含选项的对象，也可以是对应的回调函数，或者方法名）
* `props`, `methods`, `inject`, `computed` 选项 —— 组件中的 `props`, `methods`, `inject`, `computed` 选项会覆盖 `mixin` 中定义的

```
```



### 1-4 自定义选项合并

`Vue.config.ptionMergeStrategies` 自定义合并策略的选项

合并策略选项分别接收在父实例和子实例上定义的该选项的值作为第一个和第二个参数，`Vue` 实例上下文被作为第三个参数传入

```js
Vue.config.optionMergeStrategies._my_option = function (parent, child, vm) {
  return ...
}
```



## 2. 插件使用

插件通常用来为 `Vue` 添加全局功能。插件的功能范围没有严格的限制:

1. 添加全局方法或者 `property` 属性
2. 添加全局资源：指令/过滤器/过渡等
3. 通过全局混入来添加一些组件选项
4. 添加 Vue 实例方法，通过把它们添加到 `Vue.prototype` 上实现
5. 一个库，提供自己的 `API`，同时提供上面提到的一个或多个功能



### 2-1 Vue.use()

通过全局方法 `Vue.use()` 使用插件，需要在你调用 `new Vue()` 启动应用之前完成

* 可以传入一个可选的选项对象
* 会自动阻止多次注册相同插件，届时即使多次调用也只会注册一次该插件

```js
// 调用 MyPlugin.install(Vue)
Vue.use(MyPlugin)

new Vue({
  // ...组件选项
})
```



### 2-2 开发插件

`Vue` 插件其实就是一个 `js` 对象，然后这个插件对象有一个公开方法 `install ` 这个方法的第一个参数是 `Vue` 构造器，第二个参数是一个可选的选项对象

* 添加全局属性与方法
* 添加全局资源
* 混入组件选项
* 添加实例方法

```
```



## 3. render渲染函数

### 3-1 render函数



### 3-2 createElement



### 3-3 render函数与模版差异



## 4. JSX语法



## 5. 函数式组件

